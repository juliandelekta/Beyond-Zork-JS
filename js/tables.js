
const PREPOSITIONS = [0],
PREACTIONS = [0],
ACTIONS = {},
VERBS = [0];

const savedDIRECTIONS = [];
const saveDIRECTION = (d, i) => savedDIRECTIONS[i] = d;

/* FLAGS */
const BUOYANT = "BUOYANT", LIGHTED = "LIGHTED", NAMEABLE = "NAMEABLE", OPENED = "OPENED",
SLEEPING = "SLEEPING", TRYTAKE = "TRYTAKE", CLOTHING = "CLOTHING", LIVING = "LIVING",
NAMED = "NAMED", PART = "PART", STRICKEN = "STRICKEN", USED = "USED", CONTAINER = "CONTAINER",
LOCATION = "LOCATION", NEUTRALIZED = "NEUTRALIZED", PERSON = "PERSON", SURFACE = "SURFACE",
VEHICLE = "VEHICLE", DOORLIKE = "DOORLIKE", LOCKED = "LOCKED", NOALL = "NOALL",
PLACE = "PLACE", SURPRISED = "SURPRISED", VIEWED = "VIEWED", FEMALE = "FEMALE",
MANUALLY = "MANUALLY", NOARTICLE = "NOARTICLE", PLURAL = "PLURAL", TAKEABLE = "TAKEABLE",
VOWEL = "VOWEL", FERRIC = "FERRIC", MAPPED = "MAPPED", NODESC = "NODESC", PROPER = "PROPER",
TOOL = "TOOL", WEAPON = "WEAPON", IDENTIFIED = "IDENTIFIED", MONSTER = "MONSTER",
NORARTICLE = "NORARTICLE", READABLE = "READABLE", TOUCHED = "TOUCHED", WIELDED = "WIELDED",
INDOORS = "INDOORS", MUNGED = "MUNGED", OPENABLE = "OPENABLE", SEEN = "SEEN",
TRANSPARENT = "TRANSPARENT", WORN = "WORN";

const ACTIONS_STR = `ACT?KISS=255
ACT?I=254
ACT?BRIBE=253
ACT?PULL=252
ACT?PUT=251
ACT?RAPE=250
ACT?VERBOSE=249
ACT?BRING=248
ACT?WALK=247
ACT?REQUEST=246
ACT?QUIT=245
ACT?FIND=244
ACT?HEAR=243
ACT?YES=242
ACT?STOP=241
ACT?UNLOCK=240
ACT?DISTURB=239
ACT?READ=238
ACT?SAY=237
ACT?BREAK=236
ACT?THRUST=235
ACT?REST=234
ACT?JUMP=233
ACT?POUR=232
ACT?WAIT=231
ACT?DIVE=230
ACT?REFRESH=229
ACT?TAKE=228
ACT?PRIORITY=227
ACT?COUNT=226
ACT?RAISE=225
ACT?CALL=224
ACT?FOLLOW=223
ACT?REFUSE=222
ACT?PRY=221
ACT?FLY=220
ACT?RESCUE=219
ACT?VERSION=218
ACT?WIND=217
ACT?LIGHT=216
ACT?UNWIELD=215
ACT?LIE=214
ACT?MOVE=213
ACT?SPEND=212
ACT?PLAY=211
ACT?LET=210
ACT?OPEN=209
ACT?TASTE=208
ACT?SCARE=207
ACT?NAME=206
ACT?BUY=205
ACT?TOUCH=204
ACT?BLOW=203
ACT?APPROACH=202
ACT?KNOCK=201
ACT?WRITE=200
ACT?PICK=199
ACT?RIDE=198
ACT?LAND=197
ACT?DEFLATE=196
ACT?BOARD=195
ACT?APPLY=194
ACT?STAMP=193
ACT?ESCAPE=192
ACT?PRAY=191
ACT?AIM=190
ACT?STAND=189
ACT?UNDRESS=188
ACT?LISTEN=187
ACT?TIE=186
ACT?WHERE=185
ACT?SHOW=184
ACT?WIELD=183
ACT?NOD=182
ACT?SAVE=181
ACT?HELP=180
ACT?TELL=179
ACT?THROW=178
ACT?FEED=177
ACT?LOWER=176
ACT?DRESS=175
ACT?USE=174
ACT?PROP=173
ACT?HIDE=172
ACT?SHAKE=171
ACT?ATTACK=170
ACT?SPELLS=169
ACT?PLANT=168
ACT?GNAW=167
ACT?ENTER=166
ACT?UNMAKE=165
ACT?SEARCH=164
ACT?WEAR=163
ACT?PAY=162
ACT?ERASE=161
ACT?DISEMBARK=160
ACT?COLOR=159
ACT?SWIM=158
ACT?PLUG=157
ACT?UNPLUG=156
ACT?UNTIE=155
ACT?CUT=154
ACT?CIRCLE=153
ACT?HOLD=152
ACT?SELL=151
ACT?ASCEND=150
ACT?SET=149
ACT?UNSCRIPT=148
ACT?MELT=147
ACT?HANG=146
ACT?QUESTION=145
ACT?RUB=144
ACT?PUSH=143
ACT?SUPER=142
ACT?SIT=141
ACT?INFLATE=140
ACT?SLAVER=139
ACT?RETREAT=138
ACT?SCRATCH=137
ACT?$CREDITS=136
ACT?BYE=135
ACT?LOOSEN=134
ACT?HINT=133
ACT?REACH=132
ACT?DIG=131
ACT?REPLACE=130
ACT?SUBMERGE=129
ACT?SCORE=128
ACT?DEFINE=127
ACT?LAUGH=126
ACT?COVER=125
ACT?PUNCH=124
ACT?PEEL=123
ACT?UPROOT=122
ACT?CASH=121
ACT?CONNECT=120
ACT?SETTINGS=119
ACT?LOOK=118
ACT?RIP=117
ACT?FOLD=116
ACT?EMPTY=115
ACT?ZAP=114
ACT?BOW=113
ACT?DROP=112
ACT?BACK=111
ACT?TIME=110
ACT?FEEL=109
ACT?LEAVE=108
ACT?UNDO=107
ACT?NOTIFY=106
ACT?SCALE=105
ACT?HAND=104
ACT?HIT=103
ACT?HUNT=102
ACT?MONITOR=101
ACT?SCRIPT=100
ACT?FACE=99
ACT?SPIN=98
ACT?$VERIFY=97
ACT?DESCEND=96
ACT?EXTINGUISH=95
ACT?SWING=94
ACT?RESTART=93
ACT?LUNGE=92
ACT?DETONATE=91
ACT?REPAIR=90
ACT?SMELL=89
ACT?BRIEF=88
ACT?REPLY=87
ACT?SELECT=86
ACT?DUCK=85
ACT?GET=84
ACT?DIAGNOSE=83
ACT?SLEEP=82
ACT?STATUS=81
ACT?WAKE=80
ACT?DRINK=79
ACT?PET=78
ACT?REMOVE=77
ACT?ANSWER=76
ACT?WHAT=75
ACT?YELL=74
ACT?INSULT=73
ACT?LOCK=72
ACT?BANK=71
ACT?ADJUST=70
ACT?BURN=69
ACT?KICK=68
ACT?BOUNCE=67
ACT?OFFER=66
ACT?BITE=65
ACT?POINT=64
ACT?TURN=63
ACT?CROSS=62
ACT?SUSPEND=61
ACT?START=60
ACT?CLEAN=59
ACT?WHO=58
ACT?MAKE=57
ACT?RESTORE=56
ACT?FELL=55
ACT?CLOSE=54
ACT?FIX=53
ACT?GO=52
ACT?SLIDE=51
ACT?WAVE=50
ACT?PROBE=49
ACT?MODE=48
ACT?EXIT=47
ACT?EXAMINE=46
ACT?PARRY=45
ACT?RELEASE=44
ACT?WEDGE=43
ACT?JOSTLE=42
ACT?EMBARK=41
ACT?EAT=40
ACT?FIRE=39
ACT?FILL=38
ACT?LEAN=37
ACT?ITCH=36
ACT?SQUEEZE=35
ACT?CLIMB=34
ACT?CONCEAL=33
ACT?RETURN=32
ACT?SMEE=31
ACT?ZOOM=30
ACT?LURK=29
ACT?TRADE=28
ACT?THANK=27
ACT?POP=26
ACT?CRANK=25
ACT?ASK=24
ACT?HELLO=23`.split("\n").map(x => x.slice(4).split("=")[0]);

function LOAD_ACTIONS() {
    ACTIONS_STR.forEach(n => {
        window["ACT"+n] = n;
        ACTIONS[n] = window["V_"+n];
    });
}